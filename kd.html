<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>å¿«é€’ä¸è®¢å•å½•å…¥</title>
  <style>
    body { font-family: sans-serif; max-width: 700px; margin: auto; padding: 20px; }
    h2 { text-align: center; }
    label { display: block; margin-top: 16px; font-weight: bold; }
    input, select, button {
      width: 100%; padding: 12px; font-size: 1rem; margin-top: 5px;
    }
    .btn-group { display: flex; flex-direction: column; gap: 12px; margin-top: 24px; }
    button.submit { border: none; color: white; border-radius: 6px; }
    .express { background: #28a745; }
    .order { background: #007acc; }
    .clear { background: #999; color: #fff; }
    button:hover { opacity: 0.9; cursor: pointer; }
    @media (min-width: 500px) {
      .btn-group { flex-direction: row; flex-wrap: wrap; }
      button.submit { flex: 1; }
    }
  </style>
</head>
<body>

<h2>å¿«é€’ä¸è®¢å•ç»Ÿä¸€å½•å…¥</h2>

<!-- ç»Ÿä¸€è¡¨å•åŒºåŸŸ -->
<label>å®¢æˆ·åç§°</label>
<select id="customer">
  <option value="">è¯·é€‰æ‹©å®¢æˆ·</option>
  <option value="å’ªé›ª">å’ªé›ª</option>
  <option value="annie">annie</option>
  <option value="hks">hks</option>
  <option value="JFL">JFL</option>
  <option value="é¾™">é¾™"</option>
  <option value="æƒ ">æƒ </option>
  <option value="å§">å§</option>
  <option value="é˜¿å¦¹">é˜¿å¦¹</option>
  <option value="è‡ªå·±">è‡ªå·±</option>
  <option value="é˜¿æ–°">é˜¿æ–°</option>
</select>

<label>è®¢å•å·</label>
<input type="text" id="orderNumber">

<label>å¿«é€’å•å·</label>
<input type="text" id="trackingNumber">

<label>å¿«é€’å…¬å¸</label>
<select id="company">
  <option value="">è¯·é€‰æ‹©å¿«é€’å…¬å¸</option>
  <option value="é¡ºä¸°">é¡ºä¸°</option>
  <option value="åœ†é€š">åœ†é€š</option>
  <option value="ä¸­é€š">ä¸­é€š</option>
  <option value="ç”³é€š">ç”³é€š</option>
  <option value="é‚®æ”¿">é‚®æ”¿</option>
  <option value="éŸµè¾¾">éŸµè¾¾</option>
  <option value="å¾·é‚¦">å¾·é‚¦</option>
  <option value="å®‰èƒ½">å®‰èƒ½</option>
  <option value="æå…”">æå…”</option>
  <option value="äº¬å¹¿">äº¬å¹¿</option>
  <option value="ä¼˜é€Ÿ">ä¼˜é€Ÿ</option>
  <option value="äº¬ä¸œ">äº¬ä¸œ</option>
  <option value="EMS">EMS</option>





</select>

<label>å•†å“å</label>
<input type="text" id="product">

<label>æ•°é‡</label>
<input type="number" id="quantity">

<label>å•ä»·</label>
<input type="number" id="price" step="0.01">

<label>å›½å¤–æ®µè¿è´¹</label>
<input type="number" id="foreignShipping" step="0.01">

<div class="btn-group">
  <button class="submit express" onclick="submitAsExpress()">ğŸ“¦ æäº¤ä¸ºå¿«é€’</button>
  <button class="submit order" onclick="submitAsOrder()">ğŸ§¾ æäº¤ä¸ºè®¢å•</button>
  <button class="submit clear" onclick="clearForm()">ğŸ§¼ æ¸…ç©ºè¡¨å•</button>
</div>

<script>
// æ›¿æ¢ä¸ºä½ è‡ªå·±çš„åœ°å€
const EXPRESS_URL = "https://wandering-moon-bdc2.jeenty.workers.dev/gas3";
const ORDER_URL = "https://wandering-moon-bdc2.jeenty.workers.dev/gas4";

function getField(id) {
  return document.getElementById(id).value.trim();
}

function parseOrZero(val) {
  return parseFloat(val) || 0;
}

function submitAsExpress() {
  const data = {
    customer: getField("customer"),
    orderNumber: getField("orderNumber"),
    trackingNumber: getField("trackingNumber"),
    company: getField("company"),
    product: getField("product")
  };

  fetch(EXPRESS_URL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  })
  .then(res => res.json())
  .then(r => alert(r.message || "å¿«é€’ä¿¡æ¯æäº¤æˆåŠŸ"))
  .catch(() => alert("æäº¤å¤±è´¥"));
}

function submitAsOrder() {
  const data = {
    customer: getField("customer"),
    orderNumber: getField("orderNumber"),
    trackingNumber: getField("trackingNumber"),
    product: getField("product"),
    quantity: getField("quantity"),
    price: getField("price"),
    foreignShipping: getField("foreignShipping")
  };

  const qty = parseOrZero(data.quantity);
  const price = parseOrZero(data.price);
  const fee = parseOrZero(data.foreignShipping);
  const subtotal = qty * price + fee;

  const values = [
    data.orderNumber,
    data.trackingNumber,
    data.product,
    data.quantity,
    data.price,
    data.foreignShipping,
    subtotal.toFixed(2)
  ];

  fetch(ORDER_URL, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ customer: data.customer, values: values })
  })
  .then(res => res.json())
  .then(r => alert(r.message || "è®¢å•ä¿¡æ¯æäº¤æˆåŠŸ"))
  .catch(() => alert("æäº¤å¤±è´¥"));
}

function clearForm() {
  document.querySelectorAll("input, select").forEach(el => el.value = "");
}
</script>

</body>
</html>
